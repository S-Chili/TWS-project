{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SCAA,MAAMC,EAAaC,SAASC,cAAc,sBACpCC,EAAcF,SAASC,cAAc,iBACrCE,EAAeH,SAASC,cAAc,kBAEtCG,EAAa,KACjB,MAAMC,EAC0C,SAA9CH,EAAYI,aAAa,mBAA+B,EAC1DJ,EAAYK,aAAa,iBAAkBF,GAC3CN,EAAWS,UAAUC,OAAO,WAErBJ,EAGHK,OAAOC,gBAAgBC,iBAAiBZ,SAASa,MAFjDH,OAAOC,gBAAgBG,kBAAkBd,SAASa,KAEG,EAI3DX,EAAYa,iBAAiB,QAASX,GACtCD,EAAaY,iBAAiB,QAASX,GAGvCM,OAAOM,WAAW,sBAAsBD,iBAAiB,UAAUE,IAC5DA,EAAEC,UACPnB,EAAWS,UAAUW,OAAO,WAC5BjB,EAAYK,aAAa,iBAAiB,GAC1CG,OAAOC,gBAAgBC,iBAAiBZ,SAASa,MAAI,IDtBvD,MAAMO,EAAapB,SAASC,cAAc,wBACpCoB,EAAkBrB,SAASC,cAAc,8BACzCqB,EAAStB,SAASC,cAAc,WAEtCmB,EAAWL,iBAAiB,SAAUlB,EAAA0B,uBACtCF,EAAgBN,iBAAiB,SAAUlB,EAAA0B,uBAE3Cb,OAAOK,iBAAiB,UAAU,WAC5BL,OAAOc,QAAU,EACnBF,EAAOd,UAAUiB,IAAI,YAErBH,EAAOd,UAAUW,OAAO,WAE5B,IEhBA,MAAMO,EAAO,CACXC,MAAO3B,SAASC,cAAc,aAC9B2B,SAAU5B,SAASC,cAAc,qBACjC4B,YAAa7B,SAASC,cAAc,0BAGhC6B,EAAY,QACZC,EAAaC,aAAaC,QAAQH,GAErB,SAAfC,IACFL,EAAKE,SAASpB,UAAUiB,IAAI,WAC5BC,EAAKG,YAAYrB,UAAUiB,IAAI,WAC/BzB,SAASkC,gBAAgBC,QAAQC,MAAQL,GAG3CL,EAAKC,MAAMZ,iBAAiB,UAAUsB,IACpC,IAAIC,EAAc,KAEdD,EAAME,OAAOC,SACfd,EAAKE,SAASpB,UAAUiB,IAAI,WAC5BC,EAAKG,YAAYrB,UAAUiB,IAAI,WAC/Ba,EAAc,SAEdZ,EAAKE,SAASpB,UAAUW,OAAO,WAC/BO,EAAKG,YAAYrB,UAAUW,OAAO,WAClCmB,EAAc,SAGhBtC,SAASkC,gBAAgBC,QAAQC,MAAQE,EACzCN,aAAaS,QAAQX,EAAWQ,EAAA,IC7BlC,IAAAI,EAAA5C,EAAA,S,uCAKA,MAAM6C,EAAsB3C,SAASC,cAAc,mBAC7C2C,EAA6B5C,SAASC,cAAc,2BAEpD4C,EADoBC,KAAKC,MAAMf,aAAaC,QAAQ,sBAAwB,MAC/Ce,KAAIC,IAC5B,EAAAP,EAAAQ,yBAAwBD,GAAIE,MAAKC,GAAOA,EAAIC,OAAO,OAGxDC,EAA6B,IAAI,EAAAC,EAAAC,WAAU,CAC7CC,SAAU,aACVC,WAAYC,IACRf,EAA2BgB,WAAY,EAAAC,EAAAC,uBAAsBH,GAC7DjD,OAAOqD,SAAS,CACZC,IAAK,EACLC,SAAU,UACZ,IAIVC,QAAQC,IAAItB,GAAUM,MAAKQ,IACpBA,GAAWS,QACVzB,EAAoBnC,UAAUiB,IAAI,UAClC6B,EAA2Be,OAAOV,KAElChB,EAAoBnC,UAAUW,OAAO,UACrCyB,EAA2BgB,UAAY,GACvCN,EAA2BgB,gBAC/B,IAIJ1B,EAA2B7B,iBAAiB,SAASE,IACjDA,EAAEsD,iBACwB,WAAtBtD,EAAEsB,OAAOiC,WAImB,oBAA5BvD,EAAEsB,OAAOJ,QAAQsC,QACjBxD,EAAEsB,OAAOmC,QAAQ,kBAAkBvD,UAGvC,EAAAwD,EAAAC,2BAA0B3D,GAErB2B,EAA2BiC,SAAST,QACrCzB,EAAoBnC,UAAUW,OAAO,c,WChDtBnB,SAASC,cAAc,wBAE/Bc,iBAAiB,SAEhC,SAA0B+D,GACxB,MAAM7B,EAAK6B,EAAIvC,OAAOwC,MAChBC,EAAclC,KAAKC,MAAMf,aAAaC,QAAQ,gBAAkB,MAEtE,GAAkC,aAA9B6C,EAAIvC,OAAOJ,QAAQsC,QAA0BO,EAAYC,SAAShC,IAE/D,GAAkC,oBAA9B6B,EAAIvC,OAAOJ,QAAQsC,QAAgCO,EAAYC,SAAShC,GAAK,CACtF,MAAMiC,EAAQF,EAAYG,WAAUC,GAAOA,IAAQnC,IAEnD+B,EAAYK,OAAOH,EAAO,EAC5B,OALEF,EAAYM,KAAKrC,GAenBjB,aAAaS,QAAQ,cAAeK,KAAKyC,UAAUP,GACrD,ICzBA,MAAMQ,EAAgBxF,SAASC,cAAc,sBACvCwF,EAAWzF,SAASC,cAAc,uBAClCyF,EAAyB1F,SAASC,cAAc,uBAWtD,SAAS0F,IACPF,EAASjF,UAAUiB,IAAI,UACvBzB,SAASa,KAAK+E,MAAMC,SAAW,MACjC,CAZAL,EAAczE,iBAAiB,QAAS4E,GACxCD,EAAuB3E,iBAAiB,SAASE,IAC1CA,EAAEsB,OAAO/B,UAAUsF,SAAS,uBAIjCH,GAAA,ICVFjD,EAAA5C,EAAA,SAEOiG,eAAeC,EAAyB/E,GAC7CA,EAAEsD,iBACF,MAAM0B,EAAQhF,EAAEsB,QAAQ2D,UAAUC,QAAQpB,OAAOqB,QAAU,GACrDC,QAAa,EAAA3D,EAAA4D,oBAAmBL,GAEtCjE,aAAaS,QAAQ,QAASK,KAAKyC,UAAUc,EAAKhD,SAClD3C,OAAO6F,SAASC,KAAO,YACzB,CCEA,MAAMC,EAAazG,SAASC,cAAc,wBACpCyG,EAAmB1G,SAASC,cAAc,8BAEhDwG,EAAW1F,iBAAiB,SAAUiF,GAEtCU,EAAiB3F,iBAAiB,UAAWE,IACzCA,EAAEsD,iBNYJxE,EAAWS,UAAUW,OAAO,WAC5BT,OAAOC,gBAAgBC,iBAAiBZ,SAASa,MMX/CmF,EAAyB/E,EAAA,G","sources":["src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-favorite-cocktails.js","src/js/shared/add-coctails-to-ingridient.js","src/js/modal-ingredients/modal-ingredients.js","src/js/shared/handle-favorite-page-search.js","src/favorite-cocktails.js"],"sourcesContent":["import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\nconst header = document.querySelector('.header');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', handleCocktailsSearch);\n// скролл\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > 0) {\n    header.classList.add('scrolled');\n  } else {\n    header.classList.remove('scrolled');\n  }\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","import { getCocktailsDetailsById } from \"./api-service\";\nimport { createCocktailsMarkup } from \"../catalog/create-cocktails-markup\";\nimport { handleCocktailClickAction } from \"../catalog/handle-cocktails-click-action\";\nimport { Paginator } from \"../catalog/pagination/paginator\";\n\nconst noFavoriteCocktails = document.querySelector('.favorite__text');\nconst favoriteCocktailsContainer = document.querySelector('.js-favorite__cocktails');\nconst favoriteCocktails = JSON.parse(localStorage.getItem('favoriteCocktails') || '[]');\nconst promises = favoriteCocktails.map(id => {\n    return getCocktailsDetailsById(id).then(res => res.drinks[0]);\n});\n\nconst favoriteCocktailsPaginator = new Paginator({\n    selector: '.paginator',\n    drawMarkup: cocktails => {\n        favoriteCocktailsContainer.innerHTML = createCocktailsMarkup(cocktails);\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth',\n          });\n    }\n});\n\nPromise.all(promises).then(cocktails => {\n    if(cocktails?.length) {\n        noFavoriteCocktails.classList.add('hidden');\n        favoriteCocktailsPaginator.update(cocktails)\n    } else {\n        noFavoriteCocktails.classList.remove('hidden');\n        favoriteCocktailsContainer.innerHTML = '';\n        favoriteCocktailsPaginator.hidePaginator();\n    }\n});\n\n\nfavoriteCocktailsContainer.addEventListener('click', e => {\n    e.preventDefault();\n    if (e.target.nodeName !== 'BUTTON') {\n        return;\n    }\n\n    if (e.target.dataset.action === 'remove_favorite') {\n        e.target.closest('.catalog__item').remove();\n    }\n\n    handleCocktailClickAction(e);\n\n    if (!favoriteCocktailsContainer.children.length) {\n        noFavoriteCocktails.classList.remove('hidden');\n    }\n});\n\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite' && !favoriteIng.includes(id)) {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite' && favoriteIng.includes(id)) {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","const closeModalBtn = document.querySelector('[data-modal-close]');\nconst backdrop = document.querySelector('.backdrop-cocktails');\nconst backdropModalCocktails = document.querySelector('.backdrop-cocktails');\n\ncloseModalBtn.addEventListener('click', closeModal);\nbackdropModalCocktails.addEventListener('click', e => {\n  if (!e.target.classList.contains('backdrop-cocktails')) {\n    return;\n  }\n\n  closeModal();\n});\n\nfunction closeModal() {\n  backdrop.classList.add('hidden');\n  document.body.style.overflow = 'auto';\n}\n","import { getCocktailsByName } from \"./api-service\";\n\nexport async function handleFavoritePageSearch(e) {\n  e.preventDefault();\n  const query = e.target?.elements?.search?.value?.trim() || '';\n  const data = await getCocktailsByName(query);\n\n  localStorage.setItem('query', JSON.stringify(data.drinks));\n  window.location.href = 'index.html';\n}","import './js/header/header-form';\nimport './js/header/header-modal';\nimport './js/header/theme-switch';\nimport './js/shared/add-favorite-cocktails';\nimport './js/shared/listener-btn-learnmore';\nimport './js/shared/add-coctails-to-ingridient';\nimport './js/modal-ingredients/modal-ingredients';\n\nimport { handleFavoritePageSearch } from './js/shared/handle-favorite-page-search';\nimport { hideMobileMenu } from './js/header/header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormMobile = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleFavoritePageSearch);\n\nsearchFormMobile.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleFavoritePageSearch(e);\n});"],"names":["$5Deoo","parcelRequire","$5132d33abb0ee0d1$var$mobileMenu","document","querySelector","$5132d33abb0ee0d1$var$openMenuBtn","$5132d33abb0ee0d1$var$closeMenuBtn","$5132d33abb0ee0d1$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","addEventListener","matchMedia","e","matches","remove","$a89cc992caf03056$var$searchForm","$a89cc992caf03056$var$searchFormModal","$a89cc992caf03056$var$header","handleCocktailsSearch","scrollY","add","$23b67f4f74d58cce$var$refs","input","checkbox","checkboxMob","$23b67f4f74d58cce$var$THEME_KEY","$23b67f4f74d58cce$var$savedTheme","localStorage","getItem","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","$a48aG","$1273c04813cd75ba$var$noFavoriteCocktails","$1273c04813cd75ba$var$favoriteCocktailsContainer","$1273c04813cd75ba$var$promises","JSON","parse","map","id","getCocktailsDetailsById","then","res","drinks","$1273c04813cd75ba$var$favoriteCocktailsPaginator","$2exYQ","Paginator","selector","drawMarkup","cocktails","innerHTML","$1Y9oW","createCocktailsMarkup","scrollTo","top","behavior","Promise","all","length","update","hidePaginator","preventDefault","nodeName","action","closest","$38EtW","handleCocktailClickAction","children","evt","value","favoriteIng","includes","index","findIndex","_id","splice","push","stringify","$905faea5e25de848$var$closeModalBtn","$905faea5e25de848$var$backdrop","$905faea5e25de848$var$backdropModalCocktails","$905faea5e25de848$var$closeModal","style","overflow","contains","async","$a28350d2471c1199$export$5e2f760313c07ccc","query","elements","search","trim","data","getCocktailsByName","location","href","$bea49085d53b0dfc$var$searchForm","$bea49085d53b0dfc$var$searchFormMobile"],"version":3,"file":"favorite-cocktails.254b7102.js.map"}