{"mappings":"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","sources":["src/js/catalog/catalog.js","src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-coctails-to-ingridient.js","src/js/modal-ingredients/modal-ingredients.js"],"sourcesContent":["import { getRandomCocktail, getCocktailsByName } from '../shared/api-service';\nimport { getCocktailsAmountPerPage } from '../shared/get-cocktails-amount-per-page';\nimport { createCocktailsMarkup } from './create-cocktails-markup';\nimport { Paginator } from './pagination/paginator';\n\nconst refs = {\n  title: document.querySelector('.catalog__title'),\n  list: document.querySelector('.catalog__list'),\n  notFound: document.querySelector('.coctails__wrapper-found'),\n};\n\nconst catalogPaginator = new Paginator({\n  selector: '.paginator',\n  drawMarkup: cocktails => {\n    refs.list.innerHTML = createCocktailsMarkup(cocktails);\n    window.scrollTo({\n      top: 700,\n      behavior: 'smooth',\n    });\n  },\n});\n\nfunction getRandomCoctails(amount) {\n  return Array(amount)\n    .fill(null)\n    .map(() => getRandomCocktail().then(res => res.drinks[0]));\n}\n\nasync function showInitialCoctails() {\n  const cocktails = JSON.parse(localStorage.getItem('query'));\n  \n  if (cocktails) {\n    if (!cocktails.length) {\n      refs.title.textContent = '';\n      refs.list.innerHTML = '';\n      refs.notFound.classList.remove('hidden');\n      refs.title.classList.add('hidden');\n    } else {\n      catalogPaginator.update(cocktails);\n    }\n\n    localStorage.removeItem('query');\n  } else {\n    const cocktailsAmount = getCocktailsAmountPerPage();\n    const cocktailsPromises = getRandomCoctails(cocktailsAmount);\n    const cocktails = await Promise.all(cocktailsPromises);\n\n    refs.list.innerHTML = createCocktailsMarkup(cocktails);\n  }\n}\n\nshowInitialCoctails();\n","import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\nconst header = document.querySelector('.header');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', handleCocktailsSearch);\n// скролл\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > 0) {\n    header.classList.add('scrolled');\n  } else {\n    header.classList.remove('scrolled');\n  }\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite' && !favoriteIng.includes(id)) {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite' && favoriteIng.includes(id)) {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","const closeModalBtn = document.querySelector('[data-modal-close]');\nconst backdrop = document.querySelector('.backdrop-cocktails');\nconst backdropModalCocktails = document.querySelector('.backdrop-cocktails');\n\ncloseModalBtn.addEventListener('click', closeModal);\nbackdropModalCocktails.addEventListener('click', e => {\n  if (!e.target.classList.contains('backdrop-cocktails')) {\n    return;\n  }\n\n  closeModal();\n});\n\nfunction closeModal() {\n  backdrop.classList.add('hidden');\n  document.body.style.overflow = 'auto';\n}\n"],"names":["$a48aG","parcelRequire","$b77fcf4625548142$var$refs","title","document","querySelector","list","notFound","$b77fcf4625548142$var$catalogPaginator","$2exYQ","Paginator","selector","drawMarkup","cocktails","innerHTML","$1Y9oW","createCocktailsMarkup","window","scrollTo","top","behavior","async","JSON","parse","localStorage","getItem","length","update","textContent","classList","remove","add","removeItem","cocktailsAmount","$aONhq","getCocktailsAmountPerPage","cocktailsPromises","Array","fill","map","getRandomCocktail","then","res","drinks","Promise","all","$b77fcf4625548142$var$showInitialCoctails","$5Deoo","$5132d33abb0ee0d1$var$mobileMenu","$5132d33abb0ee0d1$var$openMenuBtn","$5132d33abb0ee0d1$var$closeMenuBtn","$5132d33abb0ee0d1$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","toggle","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","addEventListener","matchMedia","e","matches","$a89cc992caf03056$var$searchForm","$a89cc992caf03056$var$searchFormModal","$a89cc992caf03056$var$header","handleCocktailsSearch","scrollY","$23b67f4f74d58cce$var$refs","input","checkbox","checkboxMob","$23b67f4f74d58cce$var$THEME_KEY","$23b67f4f74d58cce$var$savedTheme","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","evt","id","value","favoriteIng","action","includes","index","findIndex","_id","splice","push","stringify","$905faea5e25de848$var$closeModalBtn","$905faea5e25de848$var$backdrop","$905faea5e25de848$var$backdropModalCocktails","$905faea5e25de848$var$closeModal","style","overflow","contains"],"version":3,"file":"index.ebfb49a3.js.map"}